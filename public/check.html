<!-- /public/check.html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Checking your booking...</title>
    <script>
      const params = new URLSearchParams(window.location.search);
      const row = params.get("row");

      if (row) {
        fetch(`https://script.google.com/macros/s/AKfycbz7JwasPrxOnuEfz7ouNfve2KAoueOpmefuEUYnbCsYLE2TfD2zX5CBzvHdQgSEyQp7-g/exec?mode=getLink&row=${row}`)
          .then(response => response.text())
          .then(link => {
            if (link && link.startsWith("http")) {
              window.location.href = link;
            } else {
              document.body.innerHTML = "<h2>‚ö†Ô∏è Booking link not found.</h2>";
            }
          })
          .catch(err => {
            console.error(err);
            document.body.innerHTML = "<h2>‚ö†Ô∏è Error fetching booking link.</h2>";
          });
      } else {
        document.body.innerHTML = "<h2>‚ö†Ô∏è Missing row number.</h2>";
      }
    </script>
  </head>
  <body>
    <p>üîÑ Redirecting to your booking page...</p>
  </body>
</html>
